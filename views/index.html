{% extends 'layout.html' %}
{% block title %}Your Trip{% endblock %}
{% block content %}
<div id="app" class="clearfix">
    <div class="map-container col-sm-8 col-lg-9">
        <div>
            <div id="map-canvas"></div>
        </div>
    </div>
    <div id="control-panel" class="col-sm-4 col-lg-3 clearfix">
        <div class="col-xs-6 col-sm-12">
            <div class="panel panel-default">
                <div class="panel-body" id="options-panel">
                    <div>
                        <h4>Hotels</h4>
                        <select data-type="hotel" id="hotel-choices">
                        </select>
                        <button data-action="add" class="btn btn-primary btn-circle pull-right" id="hotel-add">+</button>
                    </div>
                    <div>
                        <h4>Restaurants</h4>
                        <select data-type="restaurant" id="restaurant-choices">
                        </select>
                        <button data-action="add" class="btn btn-primary btn-circle pull-right" id="restaurant-add">+</button>
                    </div>
                    <div>
                        <h4>Activities</h4>
                        <select data-type="activity" id="activity-choices">
                        </select>
                        <button data-action="add" class="btn btn-primary btn-circle pull-right" id="activity-add">+</button>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-xs-6 col-sm-12">
            <h3>
        <span id="day-title">
          <span>Day 2</span>
          <button class="btn btn-xs btn-danger remove btn-circle">x</button>
        </span>
      </h3>
            <div class="panel panel-default">
                <div class="panel-heading">
                    <div class="day-buttons">
                        <button class="btn btn-circle day-btn">1</button>
                        <button class="btn btn-circle day-btn current-day">2</button>
                        <button class="btn btn-circle day-btn">3</button>
                        <button class="btn btn-circle day-btn" id="day-add">+</button>
                    </div>
                </div>
                <div class="panel-body" id="itinerary">
                    <div>
                        <h4>My Hotel</h4>
                        <ul class="list-group">
                            <div class="itinerary-item" id="my-hotel">

                            </div>
                        </ul>
                    </div>
                    <div>
                        <h4>My Restaurants</h4>
                        <ul class="list-group">
                            <div class="itinerary-item"> <span class="title">Bouley</span>
                                <button class="btn btn-xs btn-danger remove btn-circle">x</button>
                            </div>
                        </ul>
                    </div>
                    <div>
                        <h4>My Activities</h4>
                        <ul class="list-group">
                            <div class="itinerary-item"> <span class="title">Mahayana Buddhist Temple Association</span>
                                <button class="btn btn-xs btn-danger remove btn-circle">x</button>
                            </div>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script>
  {% autoescape false %}
  var hotels = {{ hotels | json }};
  var restaurants = {{ restaurants | json }};
  var activities = {{ activities | json }};

  var hotelChoices = $("#hotel-choices")
  hotels.forEach(function(hotel){
      var option = "<option>" + hotel.name + "</option>";
       hotelChoices.append(option);
  })

  var resaturantChoices = $("#restaurant-choices")
  restaurants.forEach(function(restaurant){
      var option = "<option>" + restaurant.name + "</option>";
       resaturantChoices.append(option);
  })

   var activitiesChoices = $("#activity-choices")
   activities.forEach(function(activity){
       var option = "<option>" + activity.name + "</option>";
        activitiesChoices.append(option);
   })

   $("#hotel-add").on('click', function() {
       var item = $("#hotel-choices").val();
       var newRemoveButton = "<button class='btn btn-xs btn-danger remove btn-circle'>x</button>";
       var finalChoice = "<span class='title'>" + item + "</span>";
       $("#my-hotel").append(finalChoice + newRemoveButton);
   });

  {% endautoescape %}
</script>
    {% endblock %}
